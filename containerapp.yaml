properties:
  configuration:
    activeRevisionsMode: Single

    ingress:
      external: true
      targetPort: 8000
      allowInsecure: false
      traffic:
        - weight: 100
          latestRevision: true

    secrets:
      - name: acrpassword

    registries:
      - server: acrmlopshexatec1765553338.azurecr.io
        username: acrmlopshexatec1765553338
        passwordSecretRef: acrpassword

  template:
    containers:
      - name: app-churn-api
        image: acrmlopshexatec1765553338.azurecr.io/bank-churn-api:v1
        resources:
          cpu: 0.5
          memory: 1Gi
        env:
          - name: PYTHONUNBUFFERED
            value: "1"

    scale:
      minReplicas: 1
      maxReplicas: 3
